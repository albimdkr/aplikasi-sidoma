
/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package login;

//import static petugas.dashboardPetugas.UserNamePetugas21552011235;
import com.mysql.jdbc.Connection;
import java.awt.Color;
import java.awt.HeadlessException;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import koneksi.koneksi;
import static admin.dashboardAdmin.usernameAdminKelompok2;
import static sekretaris.dashboardSekretaris.usernameSekretarisKelompok2;
import static bendahara.dashboardBendahara.usernameBendaharaKelompok2;
import static petugas.dashboardPetugas.usernamePetugasKelompok2;
//import admin.dashboardAdmin;
//import sekretaris.dashboardSekretaris;
//import bendahara.dashboardBendahara;
//import petugas.dashboardPetugas;

/**
 *
 * @author albi mudakar
 */
public class loginUser extends javax.swing.JFrame {
    
        
    
    /**
     * Creates new form login
     */
    
        Connection con;
        PreparedStatement pst;
        ResultSet rs;
    //private Object usernameAdmin21552011235;
    
        

    public loginUser() {
        initComponents();
        txtusernameKelompok2.setBackground(new java.awt.Color(0,0,0,1));
        txtpasswordPetugas21552011235.setBackground(new java.awt.Color(0,0,0,1));
        koneksi.getKoneksi();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    
    private void login(){
        String username = txtusernameKelompok2.getText();
        String password = txtpasswordPetugas21552011235.getText();
        String role = jComboBoxRoleUserKelompok2.getSelectedItem().toString();
        
        if (username.equals("")|| password.equals("")||role.equals("Select")){
            JOptionPane.showMessageDialog(null, "Username atau Password anda Salah");
        } else {
            try{
            con = (Connection) koneksi.getKoneksi();
            pst = con.prepareStatement ("select * from data_user where username=? and password=?");
            pst.setString(1,username);
            pst.setString(2, password);
            
            rs = pst.executeQuery();
            if(rs.next()){
                String s1 = rs.getString("role");
                String un = rs.getString("username");
                if(role.equalsIgnoreCase("Admin")&& s1.equalsIgnoreCase("Admin")){
//                    dashboardAdmin adm = new admin.dashboardAdmin(un);
//                    adm.setVisible(true);
//                    setVisible(false);
//                    dispose();
                    new admin.dashboardAdmin().setVisible(true);
                    dispose();
                    usernameAdminKelompok2.setText(rs.getString(2));
                    
                    }
                if(role.equalsIgnoreCase("Sekretaris")&& s1.equalsIgnoreCase("Sekretaris")){
//                    dashboardSekretaris skr = new sekretaris.dashboardSekretaris(un);
//                    skr.setVisible(true);
//                    setVisible(false);
//                    dispose();
                    new sekretaris.dashboardSekretaris().setVisible(true);
                    dispose();
                    usernameSekretarisKelompok2.setText(rs.getString(2));
                    }
                if(role.equalsIgnoreCase("Bendahara")&& s1.equalsIgnoreCase("Bendahara")){
//                    dashboardBendahara bdr = new bendahara.dashboardBendahara(un);
//                    bdr.setVisible(true);
//                    setVisible(false);
//                    dispose();
                    new bendahara.dashboardBendahara().setVisible(true);
                    dispose();
                    usernameBendaharaKelompok2.setText(rs.getString(2));
                    }
                if(role.equalsIgnoreCase("Petugas")&& s1.equalsIgnoreCase("Petugas")){
//                    dashboardPetugas ptgs = new petugas.dashboardPetugas(un);
//                    ptgs.setVisible(true);
//                    setVisible(false);
//                    dispose();
                   new petugas.dashboardPetugas().setVisible(true);
                   dispose();
                   usernamePetugasKelompok2.setText(rs.getString(2));
                    }
                } else {
                JOptionPane.showMessageDialog(null, "Username atau Password Salah!!!");
                txtusernameKelompok2.setText(null);
                txtpasswordPetugas21552011235.setText(null);
                jComboBoxRoleUserKelompok2.setSelectedIndex(0);
            }
            
        }catch(SQLException | HeadlessException e ){
            System.out.println(e);
        }
      }
    }
       
       
            
//    catch(SQLException | HeadlessException e ){
//            System.out.println(e);
//        }
//    }
//    
    public void changecolor(JPanel hover, Color rand){
        hover.setBackground(rand);
    }
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jComboBox1 = new javax.swing.JComboBox<>();
        jpanelPetugasKelompok2 = new javax.swing.JPanel();
        BtnBackKelompok2 = new javax.swing.JLabel();
        txtusernameKelompok2 = new javax.swing.JTextField();
        txtpasswordPetugas21552011235 = new javax.swing.JPasswordField();
        Login = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        username = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        password = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        sidoma = new javax.swing.JLabel();
        pddm = new javax.swing.JLabel();
        logo = new javax.swing.JLabel();
        disable = new javax.swing.JLabel();
        show = new javax.swing.JLabel();
        mapMajalaya = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        PanelLoginPetugasKelompok2 = new javax.swing.JPanel();
        BtnLoginuserKelompok2 = new javax.swing.JLabel();
        jComboBoxRoleUserKelompok2 = new javax.swing.JComboBox<>();
        jLabel2 = new javax.swing.JLabel();
        Background = new javax.swing.JLabel();
        sidoma1 = new javax.swing.JLabel();

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setUndecorated(true);
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jpanelPetugasKelompok2.setBackground(new java.awt.Color(17, 43, 60));
        jpanelPetugasKelompok2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        BtnBackKelompok2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconOutline/icons8-forward-32.png"))); // NOI18N
        BtnBackKelompok2.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        BtnBackKelompok2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                BtnBackKelompok2MouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                BtnBackKelompok2MouseEntered(evt);
            }
        });
        jpanelPetugasKelompok2.add(BtnBackKelompok2, new org.netbeans.lib.awtextra.AbsoluteConstraints(770, 10, -1, -1));

        txtusernameKelompok2.setFont(txtusernameKelompok2.getFont().deriveFont(txtusernameKelompok2.getFont().getSize()+2f));
        txtusernameKelompok2.setForeground(new java.awt.Color(255, 255, 255));
        txtusernameKelompok2.setBorder(null);
        txtusernameKelompok2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtusernameKelompok2ActionPerformed(evt);
            }
        });
        jpanelPetugasKelompok2.add(txtusernameKelompok2, new org.netbeans.lib.awtextra.AbsoluteConstraints(330, 160, 350, 40));

        txtpasswordPetugas21552011235.setFont(txtpasswordPetugas21552011235.getFont().deriveFont(txtpasswordPetugas21552011235.getFont().getSize()+2f));
        txtpasswordPetugas21552011235.setForeground(new java.awt.Color(255, 255, 255));
        txtpasswordPetugas21552011235.setBorder(null);
        txtpasswordPetugas21552011235.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtpasswordPetugas21552011235ActionPerformed(evt);
            }
        });
        jpanelPetugasKelompok2.add(txtpasswordPetugas21552011235, new org.netbeans.lib.awtextra.AbsoluteConstraints(330, 240, 350, 40));

        Login.setFont(new java.awt.Font("Segoe UI", 1, 42)); // NOI18N
        Login.setForeground(new java.awt.Color(255, 255, 255));
        Login.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        Login.setText("Login");
        jpanelPetugasKelompok2.add(Login, new org.netbeans.lib.awtextra.AbsoluteConstraints(470, 20, 150, -1));

        jLabel4.setBackground(new java.awt.Color(255, 255, 255));
        jLabel4.setForeground(new java.awt.Color(255, 255, 255));
        jLabel4.setText("____________________________________________________________");
        jpanelPetugasKelompok2.add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(320, 180, 420, 30));

        username.setFont(new java.awt.Font("Segoe UI", 1, 15)); // NOI18N
        username.setForeground(new java.awt.Color(255, 255, 255));
        username.setText("Username");
        jpanelPetugasKelompok2.add(username, new org.netbeans.lib.awtextra.AbsoluteConstraints(320, 130, 360, 36));

        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel5.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconOutline/icons8-male-user-32.png"))); // NOI18N
        jpanelPetugasKelompok2.add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(450, 90, 40, 30));

        password.setFont(new java.awt.Font("Segoe UI", 1, 15)); // NOI18N
        password.setForeground(new java.awt.Color(255, 255, 255));
        password.setText("Password");
        jpanelPetugasKelompok2.add(password, new org.netbeans.lib.awtextra.AbsoluteConstraints(320, 210, 360, 36));

        jLabel7.setBackground(new java.awt.Color(255, 255, 255));
        jLabel7.setForeground(new java.awt.Color(255, 255, 255));
        jLabel7.setText("____________________________________________________________");
        jpanelPetugasKelompok2.add(jLabel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(320, 260, 420, 30));

        jLabel11.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel11.setIcon(new javax.swing.ImageIcon(getClass().getResource("/img/clrredLOGIN.png"))); // NOI18N
        jpanelPetugasKelompok2.add(jLabel11, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 400, 300, 40));

        sidoma.setBackground(new java.awt.Color(0, 0, 0));
        sidoma.setFont(new java.awt.Font("Segoe UI", 1, 15)); // NOI18N
        sidoma.setForeground(new java.awt.Color(255, 255, 255));
        sidoma.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        sidoma.setText("MAJALAYA");
        jpanelPetugasKelompok2.add(sidoma, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 140, 120, 36));

        pddm.setBackground(new java.awt.Color(0, 0, 0));
        pddm.setFont(new java.awt.Font("Segoe UI", 1, 15)); // NOI18N
        pddm.setForeground(new java.awt.Color(255, 255, 255));
        pddm.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        pddm.setText("PDDM");
        jpanelPetugasKelompok2.add(pddm, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 120, 120, 36));

        logo.setBackground(new java.awt.Color(0, 0, 0));
        logo.setFont(new java.awt.Font("Segoe UI", 1, 15)); // NOI18N
        logo.setForeground(new java.awt.Color(255, 255, 255));
        logo.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        logo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/img/pddm_100px-removebg-preview.png"))); // NOI18N
        jpanelPetugasKelompok2.add(logo, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 20, 120, 100));

        disable.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/eyewhite20.png"))); // NOI18N
        disable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                disableMouseClicked(evt);
            }
        });
        jpanelPetugasKelompok2.add(disable, new org.netbeans.lib.awtextra.AbsoluteConstraints(760, 260, -1, 28));

        show.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/showEye.png"))); // NOI18N
        show.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                showMouseClicked(evt);
            }
        });
        jpanelPetugasKelompok2.add(show, new org.netbeans.lib.awtextra.AbsoluteConstraints(760, 260, -1, 28));

        mapMajalaya.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        mapMajalaya.setIcon(new javax.swing.ImageIcon(getClass().getResource("/img/map-majalaya-logo-FIKS.png"))); // NOI18N
        jpanelPetugasKelompok2.add(mapMajalaya, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 80, 290, 260));

        jLabel10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconOutline/icons8-male-user-24.png"))); // NOI18N
        jpanelPetugasKelompok2.add(jLabel10, new org.netbeans.lib.awtextra.AbsoluteConstraints(760, 180, -1, 28));

        PanelLoginPetugasKelompok2.setBackground(new java.awt.Color(17, 43, 60));
        PanelLoginPetugasKelompok2.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, java.awt.Color.white, java.awt.Color.white, java.awt.Color.white, java.awt.Color.white));
        PanelLoginPetugasKelompok2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        BtnLoginuserKelompok2.setFont(new java.awt.Font("Segoe UI", 1, 13)); // NOI18N
        BtnLoginuserKelompok2.setForeground(new java.awt.Color(255, 255, 255));
        BtnLoginuserKelompok2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        BtnLoginuserKelompok2.setText("Login");
        BtnLoginuserKelompok2.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        BtnLoginuserKelompok2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                BtnLoginuserKelompok2MouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                BtnLoginuserKelompok2MouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                BtnLoginuserKelompok2MouseExited(evt);
            }
        });
        PanelLoginPetugasKelompok2.add(BtnLoginuserKelompok2, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 140, 40));

        jpanelPetugasKelompok2.add(PanelLoginPetugasKelompok2, new org.netbeans.lib.awtextra.AbsoluteConstraints(330, 310, 140, 40));

        jComboBoxRoleUserKelompok2.setFont(new java.awt.Font("Segoe UI", 0, 12)); // NOI18N
        jComboBoxRoleUserKelompok2.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "-- pilih --", "Admin", "Sekretaris", "Bendahara", "Petugas" }));
        jpanelPetugasKelompok2.add(jComboBoxRoleUserKelompok2, new org.netbeans.lib.awtextra.AbsoluteConstraints(490, 90, 130, 30));

        jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/img/linePNG.png"))); // NOI18N
        jpanelPetugasKelompok2.add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 300, 440));

        Background.setIcon(new javax.swing.ImageIcon(getClass().getResource("/img/HEXABACKCONNECT.png"))); // NOI18N
        jpanelPetugasKelompok2.add(Background, new org.netbeans.lib.awtextra.AbsoluteConstraints(300, 0, 510, 440));

        sidoma1.setBackground(new java.awt.Color(0, 0, 0));
        sidoma1.setFont(new java.awt.Font("Segoe UI", 1, 15)); // NOI18N
        sidoma1.setForeground(new java.awt.Color(255, 255, 255));
        sidoma1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        sidoma1.setText("MAJALAYA");
        jpanelPetugasKelompok2.add(sidoma1, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 140, 120, 36));

        getContentPane().add(jpanelPetugasKelompok2, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 813, -1));

        setSize(new java.awt.Dimension(813, 436));
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void showMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_showMouseClicked
        txtpasswordPetugas21552011235.setEchoChar((char)8226);
        disable.setVisible(true);
        disable.setEnabled(true);
        show.setEnabled(false);
        show.setEnabled(false);
    }//GEN-LAST:event_showMouseClicked

    
    
    private void disableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_disableMouseClicked
        txtpasswordPetugas21552011235.setEchoChar((char)0);
        disable.setVisible(false);
        disable.setEnabled(false);
        show.setEnabled(true);
        show.setEnabled(true);
    }//GEN-LAST:event_disableMouseClicked

    private void BtnBackKelompok2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_BtnBackKelompok2MouseClicked
      new login.selamatDatang().setVisible(true);
      dispose();
    }//GEN-LAST:event_BtnBackKelompok2MouseClicked

    private void txtpasswordPetugas21552011235ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtpasswordPetugas21552011235ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtpasswordPetugas21552011235ActionPerformed

    private void txtusernameKelompok2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtusernameKelompok2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtusernameKelompok2ActionPerformed

    private void BtnBackKelompok2MouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_BtnBackKelompok2MouseEntered
       
    }//GEN-LAST:event_BtnBackKelompok2MouseEntered

    private void BtnLoginuserKelompok2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_BtnLoginuserKelompok2MouseClicked
        login();
    }//GEN-LAST:event_BtnLoginuserKelompok2MouseClicked

    private void BtnLoginuserKelompok2MouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_BtnLoginuserKelompok2MouseEntered
        changecolor(PanelLoginPetugasKelompok2, new Color (32,83,117));
    }//GEN-LAST:event_BtnLoginuserKelompok2MouseEntered

    private void BtnLoginuserKelompok2MouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_BtnLoginuserKelompok2MouseExited
        changecolor(PanelLoginPetugasKelompok2, new Color (17,43,60));
    }//GEN-LAST:event_BtnLoginuserKelompok2MouseExited

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(loginUser.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(loginUser.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(loginUser.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(loginUser.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(() -> {
            new loginUser().setVisible(true);
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel Background;
    private javax.swing.JLabel BtnBackKelompok2;
    private javax.swing.JLabel BtnLoginuserKelompok2;
    private javax.swing.JLabel Login;
    private javax.swing.JPanel PanelLoginPetugasKelompok2;
    private javax.swing.JLabel disable;
    private javax.swing.JComboBox<String> jComboBox1;
    private javax.swing.JComboBox<String> jComboBoxRoleUserKelompok2;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JPanel jpanelPetugasKelompok2;
    private javax.swing.JLabel logo;
    private javax.swing.JLabel mapMajalaya;
    private javax.swing.JLabel password;
    private javax.swing.JLabel pddm;
    private javax.swing.JLabel show;
    private javax.swing.JLabel sidoma;
    private javax.swing.JLabel sidoma1;
    private javax.swing.JPasswordField txtpasswordPetugas21552011235;
    private javax.swing.JTextField txtusernameKelompok2;
    private javax.swing.JLabel username;
    // End of variables declaration//GEN-END:variables

    private void changecolor(JLabel CloseBtn21552011235, Color color) {
        throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
    }
}

   


    

    

    
